<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>360 Video</title>
    <meta name="description" content="360 Video â€” A-Frame">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aframe/0.7.1/aframe.min.js"></script>
    <script src="aframe-chromakey-material.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
    <script src="aframe-passthrough-component.min.js"></script>


    <style>

    /*iframe {
      position:fixed; top:0px; left:0px;
      bottom:0px; right:0px; width:100%;
      height:100%; border:none; margin:0;
      padding:0; overflow:hidden; z-index:99;

    }*/
    </style>

</head>

  <body>
    <!-- <iframe allowvr="yes" allowfullscreen="yes" src="video.html"></iframe> -->

    <a-scene vr-mode-ui="enabled: false">
      <a-assets>
        <video id="greenscreenvideo" autoplay loop crossorigin="anonymous"></video>
      </a-assets>
      <a-passthrough width="200" height="150" position="0 1 -80"  material="shader: chromakey; src: #greenscreenvideo; color: 0.1 0.9 0.2"></a-passthrough>
      <a-sky src="nano.png" rotation="0 -130 0"></a-sky>
    </a-scene>

      <script>
        var errorCallback = function(e) {
          console.log('Reeeejected!', e);
        };

        // Not showing vendor prefixes.
        navigator.getUserMedia({video: true, audio: true}, function(localMediaStream) {
          var video = document.querySelector('video');
          video.src = window.URL.createObjectURL(localMediaStream);

          video.onloadedmetadata = function(e) {

          };
        }, errorCallback);
      </script>
  </body>
</html>
