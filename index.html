<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>360 Video</title>
    <meta name="description" content="360 Video â€” A-Frame">
    <script src="../../../dist/aframe-master.js"></script>
    <script src="https://rawgit.com/flysonic10/aframe-passthrough/master/dist/aframe-passthrough-component.min.js"></script>
    <script src="aframe-chromakey-material.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
    <script>
      var errorCallback = function(e) {
        console.log('Reeeejected!', e);
      };

      // Not showing vendor prefixes.
      navigator.getUserMedia({video: true, audio: true}, function(localMediaStream) {
        var video = document.querySelector('video');
        video.src = window.URL.createObjectURL(localMediaStream);

        // Note: onloadedmetadata doesn't fire in Chrome when using it with getUserMedia.
        // See crbug.com/110938.
        video.onloadedmetadata = function(e) {

        };
      }, errorCallback);
    </script>
</head>
  </head>
  <body>
    <a-scene>
      <a-assets>
        <video id="greenscreenvideo" autoplay loop crossorigin="anonymous"></video>
      </a-assets>
      <a-sky src="puydesancy.jpg" rotation="0 -130 0"></a-sky>
      <a-videosphere rotation="0 180 0" material="shader: chromakey; src: #greenscreenvideo; color: 0.1 0.9 0.2"></a-videosphere>
    </a-scene>
  </body>
</html>
